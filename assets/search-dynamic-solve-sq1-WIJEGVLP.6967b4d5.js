import{h as X}from"./index.c13cb735.js";function Y(r,e){r.ul=e.ul,r.ur=e.ur,r.dl=e.dl,r.dr=e.dr,r.ml=e.ml}function A(r,e){var t;e<<=2,e>24?(e=48-e,t=r.ul,r.ul=(~~r.ul>>e|r.ur<<24-e)&16777215,r.ur=(~~r.ur>>e|t<<24-e)&16777215):e>0?(t=r.ul,r.ul=(r.ul<<e|~~r.ur>>24-e)&16777215,r.ur=(r.ur<<e|~~t>>24-e)&16777215):e==0?(t=r.ur,r.ur=r.dl,r.dl=t,r.ml=1-r.ml):e>=-24?(e=-e,t=r.dl,r.dl=(r.dl<<e|~~r.dr>>24-e)&16777215,r.dr=(r.dr<<e|~~t>>24-e)&16777215):e<-24&&(e=48+e,t=r.dl,r.dl=(~~r.dl>>e|r.dr<<24-e)&16777215,r.dr=(~~r.dr>>e|t<<24-e)&16777215)}function Z(r){var e,t,i,a,u;for(i=0,r.arr[0]=g(r,0),a=1;a<24;++a)g(r,a)!=r.arr[i]&&(r.arr[++i]=g(r,a));for(u=0,e=0;e<16;++e)for(t=e+1;t<16;++t)r.arr[e]>r.arr[t]&&(u^=1);return u}function x(r){var e,t,i,a;return a=r.ur&1118481,a|=~~a>>3,a|=~~a>>6,a=a&15|~~a>>12&48,i=r.ul&1118481,i|=~~i>>3,i|=~~i>>6,i=i&15|~~i>>12&48,t=r.dr&1118481,t|=~~t>>3,t|=~~t>>6,t=t&15|~~t>>12&48,e=r.dl&1118481,e|=~~e>>3,e|=~~e>>6,e=e&15|~~e>>12&48,M(Z(r)<<24|i<<18|a<<12|e<<6|t)}function b(r,e){var t,i;for(t=0;t<8;++t)r.prm[t]=~~(~~g(r,t*3+1)>>1<<24)>>24;for(e.cornperm=B(r.prm),e.topEdgeFirst=g(r,0)==g(r,1),t=e.topEdgeFirst?2:0,i=0;i<4;t+=3,++i)r.prm[i]=~~(~~g(r,t)>>1<<24)>>24;for(e.botEdgeFirst=g(r,12)==g(r,13),t=e.botEdgeFirst?14:12;i<8;t+=3,++i)r.prm[i]=~~(~~g(r,t)>>1<<24)>>24;e.edgeperm=B(r.prm),e.ml=r.ml}function g(r,e){var t;return e<6?t=~~r.ul>>(5-e<<2):e<12?t=~~r.ur>>(11-e<<2):e<18?t=~~r.dl>>(17-e<<2):t=~~r.dr>>(23-e<<2),~~((t&15)<<24)>>24}function R(r,e,t){e<6?(r.ul&=~(15<<(5-e<<2)),r.ul|=t<<(5-e<<2)):e<12?(r.ur&=~(15<<(11-e<<2)),r.ur|=t<<(11-e<<2)):e<18?(r.dl&=~(15<<(17-e<<2)),r.dl|=t<<(17-e<<2)):(r.dr&=~(15<<(23-e<<2)),r.dr|=t<<(23-e<<2))}function L(){this.arr=[],this.prm=[]}async function j(){const r=await X();var e,t,i,a,u,n,f,_,h;for(e=new L,i=C[r(3678)],u=19088743<<1|286331153,a=19088743<<1,f=n=8,t=0;t<24;t++)(i>>t&1)==0?(_=r(n)<<2,R(e,23-t,a>>_&15),h=(1<<_)-1,a=(a&h)+(a>>4&~h),--n):(_=r(f)<<2,R(e,23-t,u>>_&15),R(e,22-t,u>>_&15),h=(1<<_)-1,u=(u&h)+(u>>4&~h),--f,++t);return e.ml=r(2),e}function rr(){}var s=L.prototype=rr.prototype;s.dl=10062778;s.dr=14536702;s.ml=0;s.ul=70195;s.ur=4544119;function er(r){var e,t,i,a,u,n;for(Y(r.Search_d,r.Search_c),i=0;i<r.Search_length1;++i)A(r.Search_d,r.Search_move[i]);for(b(r.Search_d,r.Search_sq),t=r.Search_sq.edgeperm,e=r.Search_sq.cornperm,u=r.Search_sq.ml,n=Math.max(p[r.Search_sq.edgeperm<<1|u],p[r.Search_sq.cornperm<<1|u]),i=n;i<r.Search_maxlen2;++i)if(z(r,t,e,r.Search_sq.topEdgeFirst,r.Search_sq.botEdgeFirst,u,i,r.Search_length1,0)){for(a=0;a<i;++a)A(r.Search_d,r.Search_move[r.Search_length1+a]);return r.Search_sol_string=tr(r,i+r.Search_length1),!0}return!1}function tr(r,e){for(var t="",i=0,a=0,u=e-1;u>=0;u--){var n=r.Search_move[u];n>0?(n=12-n,i=n>6?n-12:n):n<0?(n=12+n,a=n>6?n-12:n):(i==0&&a==0?t+=" / ":t+="("+i+", "+a+") / ",i=a=0)}return(i!==0||a!==0)&&(t+="("+i+", "+a+")"),t}function $(r,e,t,i,a,u){var n,f,_;if(t==0&&i<4)return i==0&&er(r);if(u!=0&&(_=G[e],f=o[_],f<i&&(r.Search_move[a]=0,$(r,_,f,i-1,a+1,0))))return!0;if(_=e,u<=0){for(n=0;n+=k[_],_=~~n>>4,n&=15,!(n>=12||(f=o[_],f>i));)if(f<i&&(r.Search_move[a]=n,$(r,_,f,i-1,a+1,1)))return!0}if(_=e,u<=1){for(n=0;n+=I[_],_=~~n>>4,n&=15,!(n>=6||(f=o[_],f>i));)if(f<i&&(r.Search_move[a]=-n,$(r,_,f,i-1,a+1,2)))return!0}return!1}function z(r,e,t,i,a,u,n,f,_){var h,S,c,l,d,m,v;if(n==0&&!i&&a||_!=0&&i==a&&(c=T[e],S=T[t],p[c<<1|1-u]<n&&p[S<<1|1-u]<n&&(r.Search_move[f]=0,z(r,c,S,i,a,1-u,n-1,f+1,0))))return!0;if(_<=0)for(v=!i,c=v?q[e]:e,S=v?t:q[t],l=v?1:2,d=p[c<<1|u],m=p[S<<1|u];l<12&&d<=n&&d<=n;){if(d<n&&m<n&&(r.Search_move[f]=l,z(r,c,S,v,a,u,n-1,f+1,1)))return!0;v=!v,v?(c=q[c],d=p[c<<1|u],l+=1):(S=q[S],m=p[S<<1|u],l+=2)}if(_<=1)for(h=!a,c=h?w[e]:e,S=h?t:w[t],l=h?1:2,d=p[c<<1|u],m=p[S<<1|u];l<(n>3?6:12)&&d<=n&&d<=n;){if(d<n&&m<n&&(r.Search_move[f]=-l,z(r,c,S,i,h,u,n-1,f+1,2)))return!0;h=!h,h?(c=w[c],d=p[c<<1|u],l+=1):(S=w[S],m=p[S<<1|u],l+=2)}return!1}function nr(r,e){var t;for(r.Search_c=e,t=x(e),r.Search_length1=o[t];r.Search_length1<100&&(r.Search_maxlen2=Math.min(31-r.Search_length1,17),!$(r,t,o[t],r.Search_length1,0,-1));++r.Search_length1);return r.Search_sol_string}function K(){this.Search_move=[],this.Search_d=new L,this.Search_sq=new O}function ar(){}s=K.prototype=ar.prototype;s.Search_c=null;s.Search_length1=0;s.Search_maxlen2=0;s.Search_sol_string=null;var H=!1;function ir(){H||(H=!0,P=[0,3,6,12,15,24,27,30,48,51,54,60,63],C=[],o=[],k=[],I=[],G=[],cr())}function ur(r){var e,t;e=0,t=0;do(r.bottom&2048)==0?(e+=1,r.bottom=r.bottom<<1):(e+=2,r.bottom=r.bottom<<2^12291),t=1-t;while((F(r.bottom&63)&1)!=0);return(F(r.bottom)&2)==0&&(r.Shape_parity^=t),e}function E(r){var e;return e=W(C,r.top<<12|r.bottom)<<1|r.Shape_parity,e}function U(r,e){r.Shape_parity=e&1,r.top=C[~~e>>1],r.bottom=r.top&4095,r.top>>=12}function fr(r){var e,t;e=0,t=0;do(r.top&2048)==0?(e+=1,r.top=r.top<<1):(e+=2,r.top=r.top<<2^12291),t=1-t;while((F(r.top&63)&1)!=0);return(F(r.top)&2)==0&&(r.Shape_parity^=t),e}function N(){}function M(r){var e;return e=W(C,r&16777215)<<1|~~r>>24,e}function cr(){var r,e,t,i,a,u,n,f,_,h,S,c,l,d,m,v;for(r=0,n=0;n<28561;++n)u=P[n%13],t=P[~~(n/13)%13],c=P[~~(~~(n/13)/13)%13],S=P[~~(~~(~~(n/13)/13)/13)],l=S<<18|c<<12|t<<6|u,F(l)==16&&(C[r++]=l);for(h=new N,n=0;n<7356;++n)U(h,n),k[n]=fr(h),k[n]|=E(h)<<4,U(h,n),I[n]=ur(h),I[n]|=E(h)<<4,U(h,n),v=h.top&63,d=F(v),m=F(h.bottom&4032),h.Shape_parity^=1&~~(d&m)>>1,h.top=h.top&4032|~~h.bottom>>6&63,h.bottom=h.bottom&63|v<<6,G[n]=E(h);for(n=0;n<7536;++n)o[n]=-1;for(o[M(14378715)]=0,o[M(31157686)]=0,o[M(23967451)]=0,o[M(7191990)]=0,i=4,a=0,e=-1;i!=a;)for(a=i,++e,n=0;n<7536;++n)if(o[n]==e){_=0,f=n;do f=k[f],_+=f&15,f>>=4,o[f]==-1&&(++i,o[f]=e+1);while(_!=12);_=0,f=n;do f=I[f],_+=f&15,f>>=4,o[f]==-1&&(++i,o[f]=e+1);while(_!=12);f=G[n],o[f]==-1&&(++i,o[f]=e+1)}}function hr(){}s=N.prototype=hr.prototype;s.bottom=0;s.Shape_parity=0;s.top=0;var I,C,o,k,G,P,J=!1;function _r(){if(!J){J=!0,p=[],T=[],q=[],w=[],Q=[1,1,2,6,24,120,720,5040],y=[];for(var r=0;r<12;++r)y[r]=[];Sr()}}function O(){}function B(r){var e,t,i,a;for(t=0,a=1985229328,e=0;e<7;++e)i=r[e]<<2,t=(8-e)*t+(~~a>>i&7),a-=286331152<<i;return t&65535}function Sr(){var r,e,t,i,a,u,n,f,_,h,S,c,l;for(a=0;a<12;++a)for(y[a][0]=1,y[a][a]=1,_=1;_<a;++_)y[a][_]=y[a-1][_-1]+y[a-1][_];for(c=[],a=0;a<40320;++a)V(c,a),l=c[2],c[2]=c[4],c[4]=l,l=c[3],c[3]=c[5],c[5]=l,T[a]=B(c),V(c,a),l=c[0],c[0]=c[1],c[1]=c[2],c[2]=c[3],c[3]=l,q[a]=B(c),V(c,a),l=c[4],c[4]=c[5],c[5]=c[6],c[6]=c[7],c[7]=l,w[a]=B(c);for(a=0;a<80640;++a)p[a]=-1;for(p[0]=0,e=0,t=1;t<80640;){f=e>=11,i=f?-1:e,r=f?e:-1,++e;r:for(a=0;a<80640;++a)if(p[a]==i){if(u=~~a>>1,S=a&1,n=T[u]<<1|1-S,p[n]==r&&(++t,p[f?a:n]=~~(e<<24)>>24,f))continue r;for(n=u,h=0;h<4;++h)if(n=q[n],p[n<<1|S]==r&&(++t,p[f?a:n<<1|S]=~~(e<<24)>>24,f))continue r;for(h=0;h<4;++h)if(n=w[n],p[n<<1|S]==r&&(++t,p[f?a:n<<1|S]=~~(e<<24)>>24,f))continue r}}}function V(r,e){var t,i,a,u,n;for(n=1985229328,t=0;t<7;++t)a=Q[7-t],u=~~(e/a),e-=u*a,u<<=2,r[t]=~~((~~n>>u&7)<<24)>>24,i=(1<<u)-1,n=(n&i)+(~~n>>4&~i);r[7]=~~(n<<24)>>24}function lr(){}s=O.prototype=lr.prototype;s.botEdgeFirst=!1;s.cornperm=0;s.edgeperm=0;s.ml=0;s.topEdgeFirst=!1;var w,y,p,q,T,Q;function F(r){return r-=~~r>>1&1431655765,r=(~~r>>2&858993459)+(r&858993459),r=(~~r>>4)+r&252645135,r+=~~r>>8,r+=~~r>>16,r&63}function W(r,e){var t,i,a,u;for(i=0,t=r.length-1;i<=t;)if(a=i+(~~(t-i)>>1),u=r[a],u<e)i=a+1;else if(u>e)t=a-1;else return a;return-i-1}var D=!1,pr=function(r,e,t){D||(ir(),_r()),t&&t("Done initializing Square-1."),D=!0,r?.()},sr=async function(){return D||pr(),j()},or=function(r){var e=new K;return nr(e,r)},dr=async function(){var r=await sr(),e=or(r);return{state:r,scramble_string:e}};async function gr(){return(await dr()).scramble_string}export{gr as getRandomSquare1ScrambleString};
